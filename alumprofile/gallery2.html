<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap"
        rel="stylesheet">
</head>

<body>

    <div class="contentPage">
        <div class="container">
            <div class="product-grid" id="panel-grid">
                <div class="product-card" data-frame="aluminum" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/alum-doors1.jpg" alt="Aluminum Frame Cabinet Doors" />
                    <div class="product-info">
                        <h5 class="product-name">Aluminum Doors</h5>
                    </div>
                </div>

                <div class="product-card" data-frame="acrylic" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/acrylux-matte-metalic.jpg" alt="Acrylic Cabinet Doors" />
                    <div class="product-info">
                        <h5 class="product-name">Acrylic Doors</h5>
                    </div>
                </div>

                <div class="product-card" data-frame="veneer" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/lucca.jpg" alt="Veneer Cabinet Doors" />
                    <div class="product-info">
                        <h5 class="product-name">Veneer Doors</h5>
                    </div>
                </div>

                <div class="product-card" data-frame="mirrors" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/cosmetic-line-3.jpg" alt="LED Mirrors" />
                    <div class="product-info">
                        <h5 class="product-name">Mirrors</h5>
                    </div>
                </div>

                <div class="product-card" data-frame="lacquered" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/lacqueredDoorsP1.jpg" alt="Lacquered Cabinet Doors" />
                    <div class="product-info">
                        <h5 class="product-name">Lacquered Doors</h5>
                    </div>
                </div>

                <div class="product-card" data-frame="sliding" onclick="toggleDropdown(this, 'panel-grid')">
                    <img src="https://www.cronosdesign.com/i/slidingDoorsDuoDrive3.jpg" alt="Sliding Doors" />
                    <div class="product-info">
                        <h5 class="product-name">Sliding Doors</h5>
                    </div>
                </div>

            </div>

        </div>
    </div>

    <div id="zoom-modal" class="zoom-modal" onclick="closeZoomModal()">
        <div class="zoom-modal-content" onclick="event.stopPropagation()">
            <img id="zoom-modal-image" class="zoom-modal-image" alt="" onclick="closeZoomModal()" />
            <div id="zoom-modal-info" class="zoom-modal-info">Click outside or press ESC to close</div>
        </div>
    </div>

    <script>
        const frameData = {
            aluminum: {
                name: 'Aluminum Frame Doors',
                gallery: [
                    'https://www.cronosdesign.com/i/romaShelfBP1.jpg',
                    'https://www.cronosdesign.com/i/modenaIntroPic1.png',
                    'https://www.cronosdesign.com/i/corleoneIntroPic.png',
                    'https://www.cronosdesign.com/i/verona%20air%20gallery%20pics3.jpg',
                    'https://www.cronosdesign.com/i/SAS_877_intro.jpg',
                    'https://www.cronosdesign.com/i/verona-intro.jpg',
                    'https://www.cronosdesign.com/i/asti-picture-1.jpg',
                ],
                captions: [
                    "Roma display cases and Roma LED shelves with Matte Black aluminum frame and Clear Glass insert.",
                    "Modena profile in Brushed Silver with Clear Glass insert.",
                    "Corleone frame with Frosted Glass and integrated handle — minimal, sleek.",
                    "Verona Air profile, ideal for tall pantry fronts.",
                    "Corleone 877 frame shown with smoked glass.",
                    "Verona classic grid with satin glass insert.",
                    "Asti wide stile frame, perfect for sliding applications."
                ]
            },
            acrylic: {
                name: 'Acrylic Doors',
                gallery: [
                    'https://www.cronosdesign.com/i/luxeCover1.jpg',
                    'https://www.cronosdesign.com/i/niemannMatteNewCover.png',
                    'https://www.cronosdesign.com/i/ecoPanelsCover1.jpg',
                    'https://static.tildacdn.com/tild3561-6238-4036-a530-333833373562/41_Cocina-con-Nogal-.jpg',
                    'https://static.tildacdn.com/tild6530-3432-4261-b166-353235356663/175-1200x675.jpg',
                ],
                captions: [
                    "Alvic Luxe Steel Board Copper cabinet doors.",
                    "Niemann Acrylux Matte Bottle Green 6005 cabinet doors.",
                    "Alvic Syncron Titan 02 PT cabinet doors.",
                    "Alvic Syncron Nogal Rosales 03 cabinet doors and Porcelain 01 Gold countertops.",
                    "Alvic Syncron Nogal Rosales 03 and Alvic Zenit Anthracite SM cabinet doors.",
                ]
            },
            veneer: {
                name: 'Veneer Doors',
                gallery: [
                    'https://www.cronosdesign.com/i/gallery/87.jpg',
                    'https://www.cronosdesign.com/i/gallery/89.jpg',
                    'https://www.cronosdesign.com/i/gallery/90.jpg',
                ],
                captions: [
                    "Canaletto Walnut 51.031 cabinet doors and boxes.",
                ]
            },
            mirrors: {
                name: 'Mirrors',
                gallery: [
                    'https://www.cronosdesign.com/i/retroLineNL.jpg',
                    'https://www.cronosdesign.com/i/retroLine.jpg',
                    'https://www.cronosdesign.com/i/smartLine.jpg',
                    'https://www.cronosdesign.com/i/standingM.jpg',
                    'https://www.cronosdesign.com/i/tenderLine.jpg',
                ],
                captions: [
                    "Non-lighted Retro Line mirror with Black Matte frame anodizing.",
                    "Backlit Retro Line mirror with Black Matte frame anodizing.",
                    "LED Smart Line mirror with touch sensor and anti-fog feature.",
                    "Standing mirror with adjustable height, Gold Matte anode frame.",
                    "Non-lighted Tender Line with soft edges."
                ]
            },
            lacquered: {
                name: 'Lacquered Doors',
                gallery: [
                    'https://www.cronosdesign.com/i.ashx?i=/i/gallery/159.jpg&w=1280',
                    'https://www.cronosdesign.com/i.ashx?i=/i/gallery/162.jpg&w=1280',
                    'https://www.cronosdesign.com/i.ashx?i=/i/gallery/163.jpg&w=1536',
                    'https://www.cronosdesign.com/i.ashx?i=/i/gallery/165.jpg&w=1448',
                    'https://www.cronosdesign.com/i/gallery/166.jpg',
                ],
                captions: [

                ]
            },
            sliding: {
                name: 'Sliding Doors',
                gallery: [
                    'https://www.cronosdesign.com/i/slidingDoorsPlintoDrive3.jpg',
                    'https://www.cronosdesign.com/i/inOutDriveWood2.jpg',
                    'https://www.cronosdesign.com/i/inOutDriveQ2.jpg',
                    'https://www.cronosdesign.com/i/inOutDriveQ1.jpg',
                    'https://www.cronosdesign.com/i/inOutDriveQ4.jpg',
                ],
            },
        };

        let currentActiveCard = null;
        let currentDropdown = null;
        let currentGalleryImages = [];

        function toggleDropdown(card, sectionType) {
            const frameKey = card.getAttribute('data-frame');
            const frameInfo = frameData[frameKey];

            currentGalleryImages = frameInfo.gallery;

            if (currentActiveCard === card && currentDropdown) {
                closeDropdown();
                return;
            }

            if (currentDropdown) {
                closeDropdown();
            }

            document.querySelectorAll('.product-card').forEach(c => c.classList.remove('active'));

            card.classList.add('active');
            currentActiveCard = card;

            const dropdown = createDropdown(frameInfo);
            currentDropdown = dropdown;

            const productGrid = card.closest('.product-grid');
            if (!productGrid) {
                console.error('Could not find product grid container');
                return;
            }

            if (productGrid.parentNode) {
                productGrid.parentNode.insertBefore(dropdown, productGrid.nextSibling);

                setTimeout(() => {
                    dropdown.classList.add('active');
                    // dropdown.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 10);
            } else {
                console.error('Could not find parent element to insert dropdown');
            }
        }

        function createDropdown(frameInfo) {
            const dropdown = document.createElement('div');
            dropdown.className = 'dropdown-section';

            dropdown.innerHTML = `
                <div class="dropdown-content">
                    <div class="grid-header">
                        <h3>${frameInfo.name}</h3>
                    </div>
                    <div class="gallery-section">
                        <div class="scrollable-gallery">
                            <button class="gallery-nav prev">‹</button>
                            <div class="single-gallery-container">
                                <div class="single-gallery-scroll">
                                    ${frameInfo.gallery.map(img => `
                                        <div class="gallery-item">
                                            <img src="${img}" alt="${frameInfo.name}" class="gallery-img zoomable" onclick="openZoomModal(this)" />
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <button class="gallery-nav next">›</button>
                        </div>
                    </div>
                    <aside class="details-panel">
                        <div class="details-inner">
                            <p class="details-text"></p>
                        </div>
                    </aside>
                </div>
            `;

            setTimeout(() => {
                const scrollContainer = dropdown.querySelector('.single-gallery-scroll');
                const prevBtn = dropdown.querySelector('.gallery-nav.prev');
                const nextBtn = dropdown.querySelector('.gallery-nav.next');
                const detailsText = dropdown.querySelector('.details-text');
                const captions = (frameInfo.captions && Array.isArray(frameInfo.captions)) ? frameInfo.captions : frameInfo.gallery.map(() => "");
                let currentIndex = 0;

                function updateGalleryPosition() {
                    if (scrollContainer) {
                        const translateX = -currentIndex * 100;
                        scrollContainer.style.transform = `translateX(${translateX}%)`;
                    }
                    if (detailsText) {
                        detailsText.textContent = captions[currentIndex] || "";
                    }
                }

                function scrollGallery(direction) {
                    currentIndex += direction;
                    if (currentIndex < 0) currentIndex = frameInfo.gallery.length - 1;
                    if (currentIndex >= frameInfo.gallery.length) currentIndex = 0;
                    updateGalleryPosition();
                }

                prevBtn.addEventListener('click', () => scrollGallery(-1));
                nextBtn.addEventListener('click', () => scrollGallery(1));

                updateGalleryPosition();
            }, 10);

            return dropdown;
        }

        function openZoomModal(imageElement) {
            const modal = document.getElementById('zoom-modal');
            const modalImage = document.getElementById('zoom-modal-image');

            modalImage.src = imageElement.src;
            modalImage.alt = imageElement.alt;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeZoomModal() {
            const modal = document.getElementById('zoom-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal when clicking on background
        document.getElementById('zoom-modal').addEventListener('click', function (event) {
            if (event.target === this) {
                closeZoomModal();
            }
        });

        // Close modal with ESC key
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape') {
                const modal = document.getElementById('zoom-modal');
                if (modal.classList.contains('active')) {
                    closeZoomModal();
                }
            }
        });

        function closeDropdown() {
            if (currentDropdown && currentDropdown.parentNode) {
                currentDropdown.remove();
                currentDropdown = null;
            }
            if (currentActiveCard) {
                currentActiveCard.classList.remove('active');
                currentActiveCard = null;
            }
            // Clear all active states
            document.querySelectorAll('.product-card').forEach(card => card.classList.remove('active'));
        }

        function selectM1ByDefault() {
            // Find the M1 product card
            const m1Card = document.querySelector('[data-frame="aluminum"]');
            if (m1Card) {
                // Simulate selecting the M1 card without scrolling
                toggleDropdown(m1Card, 'panel-grid');
            }
        }

        document.addEventListener('DOMContentLoaded', selectM1ByDefault);
    </script>

    <style>
:root {
    /* Taller gallery, but still viewport-aware */
    --gallery-max-h: clamp(300px, 65vh, 680px);
    /* Gallery now fills grid column */
    --gallery-max-w: 100%;
}
    * {
        box-sizing: border-box;
      }
        body {
            line-height: 1.6;
            font-family: "Inter", Sans-Serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .contentPage {
            width: 100%;
            overflow-x: hidden;
        }

        * {
            box-sizing: border-box;
        }

        .section-header {
            text-align: center;
            margin: 60px auto 40px;
            max-width: 1200px;
            width: 100%;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 15px;
            position: relative;
        }

        .section-header h2::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: #000;
            margin: 15px auto;
        }

        .subsection-title {
            font-size: 1.8rem;
            color: #333;
            margin: 50px auto 30px;
            padding-left: 20px;
            border-left: 4px solid #000;
            max-width: 1200px;
            width: 100%;
            text-align: left;
        }

        .product-grid {
            display: flex;
            gap: 20px;
            margin: 0 auto 40px;
            max-width: 1200px;
            width: 100%;
            padding: 0 20px;
            overflow-x: auto;
            overflow-y: visible;
            flex-wrap: nowrap;
            padding-bottom: 30px;
        }

        .product-card {
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            color: inherit;
            border: 1px solid #ffffff;
            border-radius: 8px;
            height: 200px;
            display: flex;
            flex-direction: column;
            background: white;
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
            width: 160px;
        }

        .product-card:hover {
            border-color: #000;
            color: inherit;
        }

        .product-card.active {
            border: 1.5px solid #000000;
            background: #f8f9fa;
            box-shadow: 0 4px 16px rgba(14, 133, 147, 0.2);
        }

        .product-card img {
            height: 140px;
            object-fit: cover;
            transition: none;
            /* background: #fafafa; */
            padding: 15px;
            flex-shrink: 0;
        }

        .product-info {
            padding: 12px 15px 15px;
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .product-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
            margin: 0;
            line-height: 1.2;
        }

        .dropdown-section {
            width: 100%;
            background: white;
            border: 2px solid #000;
            margin: 30px auto 60px;
            padding: 30px;
            display: none;
            animation: slideDown 0.3s ease-out;
            max-width: 1200px;
        }

        .dropdown-section.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-content {
            display: grid;
            grid-template-columns: 1.6fr 0.8fr;
            grid-template-rows: auto 1fr;
            align-items: stretch;
            gap: 24px 32px; /* row gap, column gap */
        }


        .grid-header {
            grid-column: 1 / -1;
        }
        .grid-header h3 {
            color: #000;
            font-size: 1.4rem;
            margin: 0 0 10px 0;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
        }
        .gallery-section { grid-row: 2; grid-column: 1; }

        .scrollable-gallery {
            position: relative;
            width: 100%;
            margin: 0; /* gallery hugs the left */
        }

        .single-gallery-container {
            overflow: hidden;
            width: 100%;
            height: var(--gallery-max-h);
            display: block;
        }

        .single-gallery-scroll {
            display: flex;
            transition: transform 0.3s ease;
            width: 100%;
            flex-wrap: nowrap;
        }

        .gallery-item {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: var(--gallery-max-h);
            flex: 0 0 100%;
        }


        .gallery-img {
            width: auto;
            height: auto;
            max-height: var(--gallery-max-h);
            max-width: 100%;
            object-fit: contain;
            cursor: zoom-in;
            transition: all 0.3s ease;
        }

        .details-panel {
            grid-row: 2;
            grid-column: 2;
            border-left: 2px solid #000;
            padding-left: 16px;
            display: flex;            /* allows vertical centering */
        }
        .details-inner {
            width: 100%;
            margin: auto 0;           /* vertical centering within the column */
        }
        .details-text { font-size: 1rem; line-height: 1.7; color: #222; white-space: pre-wrap; }


        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            color: #333;
            border: 2px solid #e9ecef;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            opacity: 1;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .gallery-nav:hover {
            background: #f5f5f5;
            border-color: #ccc;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .gallery-nav.prev {
            left: 15px;
        }

        .gallery-nav.next {
            right: 15px;
        }

        .gallery-counter {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            font-size: 12px;
            border-radius: 4px;
            display: block;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #e0e0e0;
            color: #000;
        }

        .zoom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            cursor: zoom-out;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .zoom-modal.active {
            display: flex;
            opacity: 1;
            align-items: center;
            justify-content: center;
        }

        .zoom-modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zoom-modal-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            background: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
            cursor: zoom-out;
        }

        .zoom-modal-info {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            font-size: 14px;
            white-space: nowrap;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .product-grid {
                padding: 0 15px;
                gap: 12px;
            }

            .product-card {
                width: 120px;
                height: 160px;
            }

            .product-card img {
                height: 100px;
                padding: 10px;
            }

            .product-name {
                font-size: 0.8rem;
            }

            .dropdown-content {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
                gap: 20px;
            }
            .gallery-section { grid-row: 2; grid-column: 1; }
            .details-panel {
                grid-row: 3; grid-column: 1;
                border-left: none;
                border-top: 2px solid #000;
                padding-left: 0;
                padding-top: 16px;
                display: block;
            }

            .gallery-item {
                min-height: calc(var(--gallery-max-h) - 80px);
                padding: 10px;
            }

            .dropdown-section {
                padding: 20px;
                margin: 20px auto 40px;
            }

            .specs-list li {
                font-size: 0.9rem;
                padding: 10px 0;
            }

            .gallery-nav {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }

            .gallery-nav.prev {
                left: 10px;
            }

            .gallery-nav.next {
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .product-grid {
                padding: 0 10px;
                gap: 8px;
            }

            .product-card {
                width: 100px;
                height: 140px;
            }

            .product-card img {
                height: 90px;
                padding: 8px;
            }

            .product-name {
                font-size: 0.7rem;
            }

            .product-info {
                padding: 8px 10px 10px;
            }

            .dropdown-section {
                padding: 15px;
                margin: 15px auto 30px;
            }

            .gallery-item {
                min-height: calc(var(--gallery-max-h) - 110px);
                padding: 8px;
            }

            .gallery-section h3 {
                font-size: 1.2rem;
            }

            .gallery-nav {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }

            .gallery-nav.prev {
                left: 8px;
            }

            .gallery-nav.next {
                right: 8px;
            }

            .gallery-counter {
                bottom: 10px;
                right: 10px;
                padding: 4px 8px;
                font-size: 11px;
            }
        }
    </style>

</body>

</html>